"use strict";var app=angular.module("SolarBearApp",["ngMaterial","ngAnimate","ngMdIcons","ngMessages","ui.router","ngCookies","restangular"]);app.config(["$interpolateProvider",function(a){a.startSymbol("[["),a.endSymbol("]]")}]),app.config(["RestangularProvider",function(a){a.setBaseUrl("/api")}]),app.config(["$stateProvider","$urlRouterProvider",function(a,b){b.otherwise("/"),a.state("home",{url:"/",templateUrl:"/main",controller:"Home.MainCtrl",controllerAs:"vm"}).state("home.customer_list",{url:"/customer",templateUrl:"/api/customers",controller:"Customer.MainCtrl",controllerAs:"vm"}).state("home.customer_new",{url:"/customer/new",templateUrl:"/api/customers/new.html",controller:"Customer.NewCtrl",controllerAs:"vm"}).state("home.appointment_list",{url:"/appointment",templateUrl:"/api/appointments",controller:"Appointment.MainCtrl",controllerAs:"vm"}).state("home.appointment_new",{url:"/appointment/new",templateUrl:"/api/appointments/new.html",controller:"Appointment.NewCtrl",controllerAs:"vm"})}]),app.config(["$mdThemingProvider",function(a){var b=a.extendPalette("blue",{contrastDefaultColor:"light",contrastDarkColors:["50"],50:"ffffff"});a.definePalette("customBlue",b),a.theme("default").primaryPalette("customBlue",{"default":"900","hue-1":"50"}).accentPalette("green",{"default":"800"}),a.theme("input","default").primaryPalette("grey")}]),function(){function a(a,b,c,d,e){function f(){a.$on("customers-updated",i),a.$on("appointments-updated",j),g(),h(),i(),j()}function g(){k.toggleSidenav=function(a){c(a).toggle(),console.log("Press it!")}}function h(){k.menu=[{link:"dashboard",title:"Dashboard",icon:"dashboard",sref:"home"},{link:"home.customer.new",title:"Customers",icon:"group",sref:"home.customer_new"},{link:"home.appointment.new",title:"Appointments",icon:"alarm",sref:"home.appointment_new"}]}function i(){l.getList().then(function(a){k.countCustomers=a.length})}function j(){m.getList().then(function(a){k.countAppointments=a.length})}var k=this,l=e.all("customers"),m=e.all("appointments");f()}a.$inject=["$scope","$mdBottomSheet","$mdSidenav","$mdDialog","Restangular"],angular.module("SolarBearApp").controller("Home.MainCtrl",a)}(),function(){function a(a,b){function c(){d(),a.$on("customers-updated",d)}function d(){f.getList().then(function(a){e.allCustomers=a})}var e=this,f=b.all("customers");c()}a.$inject=["$scope","Restangular"],angular.module("SolarBearApp").controller("Customer.MainCtrl",a)}(),function(){function a(a,b,c,d,e){function f(){b("left").toggle(),console.log("Customer.NewCtrl Aqui toy!")}var g=this,h={},i=e.all("customers");g.saving=!1,f(),g.saveCustomer=function(b){g.saving=!0,h=angular.copy(b),i.post(b).then(function(){console.log("Customer saved OK"),d.show({template:"<md-toast><span flex>Customer data saved!</span></md-toast>",hideDelay:6e3,position:"bottom left"}),a.$emit("customers-updated"),c.go("home")},function(){console.log("here was an error saving"),d.show({template:"<md-toast><span flex>Here was an error saving!</span></md-toast>",hideDelay:6e3,position:"bottom left"}),g.saving=!1})}}a.$inject=["$scope","$mdSidenav","$state","$mdToast","Restangular"],angular.module("SolarBearApp").controller("Customer.NewCtrl",a)}(),function(){function a(a){function b(){c()}function c(){e.getList().then(function(a){d.allAppointments=a})}var d=this,e=a.all("appointments");b()}a.$inject=["Restangular"],angular.module("SolarBearApp").controller("Appointment.MainCtrl",a)}(),function(){function a(a,b,c,d,e,f){function g(){b("left").toggle(),console.log("Appointment.NewCtrl was loaded!")}var h=this,i={},j=f.all("appointments");h.saving=!1,g(),h.saveAppointment=function(b){h.saving=!0,i=angular.copy(b),b.date=e("date")(b.date,"yyyy-MM-dd"),j.post(b).then(function(){console.log("Appointment saved OK"),d.show({template:"<md-toast><span flex>Appointment data saved!</span></md-toast>",hideDelay:6e3,position:"bottom left"}),a.$emit("appointments-updated"),c.go("home")},function(){console.log("here was an error saving"),d.show({template:"<md-toast><span flex>Here was an error saving!</span></md-toast>",hideDelay:6e3,position:"bottom left"}),h.saving=!1})}}a.$inject=["$scope","$mdSidenav","$state","$mdToast","$filter","Restangular"],angular.module("SolarBearApp").controller("Appointment.NewCtrl",a)}();